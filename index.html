<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Czech Badminton - ligové statistiky</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        }
        .kolo-checkbox {
            cursor: pointer;
        }
        .kolo-checkbox:hover {
            background-color: #eff6ff;
        }
        .soutez-tab {
            transition: all 0.2s;
        }
        .soutez-tab.active {
            background: linear-gradient(to right, #2563eb, #4f46e5);
            color: white;
        }
        /* Dark mode */
        .dark {
            background-color: #111 !important;
            color: #ddd !important;
        }
        .dark table {
            background: #222;
        }
    </style>
</head>
<body class="min-h-screen p-4 bg-gradient-to-br from-red-600 to-red-800">
    <div class="max-w-7xl mx-auto">
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6">
            <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
                <div>
                    <h1 class="text-3xl font-bold text-gray-800 dark:text-white mb-2">🏸 Czech Badminton - ligové statistiky</h1>
                    <p class="text-gray-600 dark:text-gray-300">Přehled zápasů, tabulky a statistiky hráčů</p>
                    <p class="text-sm text-blue-600 mt-2" id="aktualizaceInfo">Načítání dat...</p>
                    <p id="hracMesice" class="mt-2 text-sm text-gray-700 dark:text-gray-300"></p>
                </div>
                <button id="darkToggle" onclick="toggleDarkMode()" class="bg-gray-700 text-white px-3 py-2 rounded-lg shadow-lg">🌓 Dark Mode</button>
            </div>

            <div class="mt-6 flex flex-wrap gap-2">
                <button onclick="zmenitSoutez('extraliga')" id="tab-extraliga" class="soutez-tab px-6 py-3 rounded-lg font-semibold">🏆 Extraliga</button>
                <button onclick="zmenitSoutez('prvni-liga-vychod')" id="tab-prvni-liga-vychod" class="soutez-tab px-6 py-3 rounded-lg font-semibold bg-gray-200 text-gray-700">📍 1. liga - Východ</button>
                <button onclick="zmenitSoutez('prvni-liga-zapad')" id="tab-prvni-liga-zapad" class="soutez-tab px-6 py-3 rounded-lg font-semibold bg-gray-200 text-gray-700">📍 1. liga - Západ</button>
            </div>
        </div>

        <div class="flex gap-2 mb-4">
            <button class="bg-blue-100 text-blue-700 px-3 py-1 rounded" onclick="filtrPosledniKolo()">Poslední kolo</button>
            <button class="bg-green-100 text-green-700 px-3 py-1 rounded" onclick="vyberVsechnaKola()">Aktuální kolo</button>
        </div>

        <div id="tabulkaContainer" class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6" style="display: none;">
            <h2 class="text-xl font-bold mb-4 text-gray-800 dark:text-white">🏆 Tabulka</h2>
            <div class="overflow-x-auto">
                <table class="w-full">
                    <thead>
                        <tr class="bg-gradient-to-r from-green-600 to-emerald-600 text-white">
                            <th class="p-2">#</th>
                            <th class="p-2 text-left">Tým</th>
                            <th class="p-2">Utkání</th>
                            <th class="p-2">V</th>
                            <th class="p-2">R</th>
                            <th class="p-2">P</th>
                            <th class="p-2">Zápasy</th>
                            <th class="p-2">Sety</th>
                            <th class="p-2">Body</th>
                            <th class="p-2">Bodů</th>
                        </tr>
                    </thead>
                    <tbody id="tabulkaTable"></tbody>
                </table>
            </div>
        </div>

        <div id="statistikyContainer" class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6" style="display: none;">
            <h2 class="text-xl font-bold mb-4 text-gray-800 dark:text-white">📊 Statistiky hráčů</h2>
            <div class="overflow-x-auto">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white">
                            <th class="p-2">#</th>
                            <th class="p-2 text-left">Hráč</th>
                            <th class="p-2 text-left">Tým</th>
                            <th class="p-2">Z</th>
                            <th class="p-2">V</th>
                            <th class="p-2">P</th>
                            <th class="p-2">Win %</th>
                        </tr>
                    </thead>
                    <tbody id="statistikyTable"></tbody>
                </table>
            </div>
        </div>
    </div>

<script>
function toggleDarkMode(){document.body.classList.toggle('dark');}

function filtrPosledniKolo(){const vsechna=[...new Set(zapasy[aktualni_soutez].map(z=>z.kolo))];const posledni=vsechna.sort((a,b)=>parseInt(a)-parseInt(b)).pop();vybrana_kola=new Set([posledni]);zobrazitData();}

function zobrazTymDetail(tym){const zapasyTymu=zapasy[aktualni_soutez].filter(z=>z.tymDomaci===tym||z.tymHoste===tym);const doma=zapasyTymu.filter(z=>z.tymDomaci===tym).length;const venku=zapasyTymu.filter(z=>z.tymHoste===tym).length;alert(`${tym}\nDoma: ${doma}\nVenku: ${venku}`);}

function zobrazDetailHrace(jmeno){const zapasyHrace=zapasy[aktualni_soutez].filter(z=>z.domaci.includes(jmeno)||z.hoste.includes(jmeno)).slice(-5);const text=zapasyHrace.map(z=>`${z.disciplina} (${z.vysledek}) vs ${z.domaci.includes(jmeno)?z.hoste:z.domaci}`).join('\n');alert(`🧑 ${jmeno}\n\nPosledních 5 zápasů:\n${text}`);}

function hracMesice(){const stats=vypocitejStatistiky();const list=Object.entries(stats).filter(([_,s])=>s.zapasy>=3);list.sort((a,b)=>(b[1].vyhry/b[1].zapasy)-(a[1].vyhry/a[1].zapasy));return list[0]?.[0]||'';}

function formatDiff(val){const arrow=val>0?'▲':val<0?'▼':'–';const color=val>0?'text-green-600':val<0?'text-red-600':'text-gray-400';return `<span class="${color} ml-1 text-xs">${arrow}${val>=0?'+':''}${val}</span>`;}

// Placeholdery dat
let zapasy={'extraliga':[]};let vybrana_kola=new Set();let aktualni_soutez='extraliga';

function vypocitejStatistiky(){return {};} function zobrazitData(){document.getElementById('hracMesice').textContent='⭐ Hráč měsíce: '+hracMesice();}
zobrazitData();
</script>
</body>
</html>
